#:kivy 1.11.1
<CreateAccountWindow>:
    name: "create"
    
    namee: namee
    email: email
    password: passw

    BackgroundLayer:
        id: Cbackground
    # on_enter:
    #     # app.animate_card(card)
    #     app.animate_background(Cbackground)
    MDCard:
        id: registercard
        orientation: "vertical"
        size_hint: [0.8, 0.6]
        pos_hint: {"center_x": 0.5, "center_y":0.6}#it would be up using the animation
        spacing: dp(10)
        padding: [15, 0, 15, 15]

        BoxLayout:
            orientation: "vertical"
            MDLabel:
                text: "[color=00FF00] Sign up [/color]"
                text_size: self.size
                bold: True
                markup: True
                halign: "center"
                valign: "middle"
        MDTextField: 
            id: namee
            hint_text: "Full Name"
            icon_right : "account"
        MDTextField: 
            id: email
            hint_text: "Email"
            icon_right : "account"
        MDTextField: 
            id: passw
            hint_text: "Password"
            icon_right: "eye-off"
            password: True
       
        MDFillRoundFlatButton:
            text: "Sign Up"
            pos_hint: {"center_x": .5}
            # size_hint_x:0.2
            on_release:
                root.manager.transition.direction = "left"
                root.submit()
        MDTextButton:
            text: "Already have an Account? Log In"
            pos_hint: {"center_x": .5}
            size_hint_x:0.6
            on_release:
                root.manager.transition.direction = "left"
                root.login()

   

<LoginWindow>:
    name: "login"

    email: email
    password: password

    on_enter:
        app.animate_card(card)
        app.animate_background(background)

    BackgroundLayer:
        id: background

    MDCard:
        id: card
        orientation: "vertical"
        size_hint: [0.8, 0.6]
        pos_hint: {"center_x": 0.5, "center_y":0}#it would be up using the animation
        spacing: dp(10)
        padding: [15, 0, 15, 15]

        BoxLayout:
            orientation: "vertical"
            
            MDLabel:
                text: "RATE YOUR LEARNING!"
                text_size: self.size
                font_size: 25
                bold: True
                halign: "center"
                valign: "middle"
            MDLabel:
                text: "[color=00FF00] Sign in [/color]"
                text_size: self.size
                bold: True
                markup: True
                halign: "center"
                valign: "middle"
        MDTextField: 
            id: email
            hint_text: "Email"
            icon_right : "account"
        MDTextField: 
            id: password
            hint_text: "Password"
            icon_right: "eye-off"
            password: True
       
        MDFillRoundFlatButton:
            text: "Sign In"
            size_hint_x:0.8
            pos_hint: {"center_x": .5}
            on_release:
                root.manager.transition.direction = "up"
                root.loginBtn()
        MDTextButton:
            text: "Sign Up Here"
            pos_hint: {"center_x": .5}
            size_hint_x:0.6
            on_release:
                root.manager.transition.direction = "right"
                root.createBtn()
        
<BackgroundLayer@BoxLayout>:
    
    orientation: "vertical"
    BoxLayout:
        id: widget_row
        size_hint_y:0.1
        orientation:"vertical"
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex("#8A2BE2")
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [0, 0, 40,40] #top left, top right, btm left, btm right how curvy a box is in each corner
    BoxLayout:
        
        orientation: "horizontal"
        padding: [200, 0, 0, 0]#left, right, top, btm
        Widget:
            canvas.before:
                Color:
                    rgba: utils.get_color_from_hex("#BFFF00")
                Ellipse:
                    pos: self.pos
                    size: [20,20]
        Widget:
            canvas.before:
                Color: 
                    rgba: utils.get_color_from_hex("#8A2BE2")
                Ellipse:
                    pos: self.pos
                    size: [20,20]

        Widget:
            canvas.before:
                Color: 
                    rgba: utils.get_color_from_hex("#00FFFF")
                Ellipse:
                    pos: self.pos
                    size: [20,20]
<MainWindow>:
    n: n
    email: email
    created:created
    plot: plot

    BackgroundLayer:

    Label:
        id: n
        color: 1,0,0,1
        pos_hint:{"x": 0.1, "top":0.9}
        size_hint:0.8, 0.2
        text: "Account Name: "

    Label:
        id: email
        color: 1,0,0,1
        pos_hint:{"x": 0.1, "top":0.85}
        size_hint:0.8, 0.2
        text: "Email: "

    Label:
        id: created
        color: 1,0,0,1
        pos_hint:{"x": 0.1, "top":0.8}
        size_hint:0.8, 0.2
        text: "Created: "

    BoxLayout:
        id: plot
        pos_hint:{"x": 0.1, "top":0.6}
        size_hint:0.8, 0.6

    MDFillRoundFlatButton:
        text: "Log Out"
        # size_hint_x:0.8
        pos_hint:{"x":0.9, "y": 0.9}
        on_release:
            app.root.current = "login"
            root.manager.transition.direction = "down"
            